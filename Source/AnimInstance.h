#pragma once
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 
// File: “CAnimInstance.h” 
// Author: Dennis Wallace II (DWII)
// Purpose: Interface for the units to talk to about animations.
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 

#include "AnimationManager.h"
#include "Sheet.h"
#include <string>
using std::string;

class CAnimInstance
{
	int m_nUnitType;
	string m_szAction;
	string m_szDirection;
	CAnimationManager* m_pAM;
	CSheet m_Sheet; 
	bool m_bIsLooping;
	bool m_bisFliped;
	int x; 
	int y;
	string GetName(int Direction,int Action);
	bool m_bisPlayer;

public:
	CAnimInstance(int UnitType);
	~CAnimInstance(void);

	//Accessor / Mutators
	void SetX(int value){x = value;}
	void SetY(int value){y = value;}
	int GetX(){return x;}
	int GetY(){return y;}
	bool IsFlipped() { return m_bisFliped; }
	bool IsPlaying(int Direction,int Action);
	int GetFrameWidth(int Direction, int Action);
	int GetOffsetX(int Direction, int Action);
	int GetOffsetY(int Direction, int Action);
	int GetFrameHeight(int Direction, int Action);
	void SetLooping(bool value);
	void SetFlip(bool value){m_bisFliped = value;}
	void SetPlayer(bool value);
	RECT GetRenderRect(int Direction, int Action);
	void StopAllAnimations();

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 
// Function: “Play” 
// Last Modified: July 27, 2008
// Purpose: Looks up the specified sheet using the unit type.
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 
	void Play(int Direction, int Action);
	
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 
// Function: “LookUp” 
// Last Modified: July 27, 2008
// Purpose: Looks up the specified sheet using the unit type.
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 
	void Update(float fElapsedTime);
	
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 
// Function: “LookUp” 
// Last Modified: July 27, 2008
// Purpose: Looks up the specified sheet using the unit type.
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 
	void Render();

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 
// Function: “Stop” 
// Last Modified: July 27, 2008
// Purpose: Stops the specified sheet's currently playing animation.
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 
	void Stop(int Direction, int Action);
};
